{"version":3,"sources":["uni-app:///main.js","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?683b","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?8665","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?fc1b","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?f810","uni-app:///pages/rightTouch/detail.vue","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?e7f0","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?3cb8","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?b4a5","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?0167","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?1007","webpack:///G:/PHP_dev/333-mhsc/mh-v16/mh-v16-uinapp/pages/rightTouch/detail.vue?5e0d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","data","muteBgMusic","optionsData","boxInfo","markList","awardList","orderData","btnCur","payTypeCur","payTypeList","id","icon","title","agree","ruleData","is_epay","currentBanner","zsPop","boxLogList","btnLists","currentItems","downOption","auto","upOption","page","size","textNoMore","couponList","couponPop","couponShow","coupon_info","animateSet","setShow","rulePop","initialRewards","gameRewards","rewardCards","wishPoolData","showWishPool","selectedIndex","order_id","selected_prize_info","thumb","collision_count","isPlacingCard","selectedRewards","showOrderPool","orderList","game_status","onLoad","userId","switchMusic","bgMusic","onShow","console","watch","onUnload","clearInterval","onHide","computed","navTitle","methods","getGameDetail","url","box_id","success","card","uni","fail","getWishPool","selectItem","makeWish","prize_id","handleRewardSelect","index","c1","c2","card1_id","card2_id","closesOrderPool","resetCard","isRewardSelected","placeRewardCard","card_id","getCardStyle","left","zIndex","initInitialRewards","length","useCouPon","goCoupon","getUserCoupon","paymentAmount","Loading","zsCu","zs","getBoxLogList","num","mark_id","per_page","item","getTab","type","resolve","handleSwiperChange","getPrevIndex","getNextIndex","checkPayStatus","_this","order_sn","duration","query","drawNum","cancelCheckPayStatus","clearTimeout","cancelOrderPay","getData","getDraw","changePayType","changeBuyType","openBox","confirmSubmit","e","draw_num","invite_user_id","pay_type","coupon_id","submit","returnUrl","openOrderPop","closeOrderPop","tryPlay","goMall","upper","lower","goInvite","mask","tabCur","playMusic","noticeEnd","back","complete","fresh","openRule","goZs","playGame"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;AACA;AACA;;;AAG3F;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACzBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kRAEN;AACP,KAAK;AACL;AACA,aAAa,4KAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AAAupB,CAAgB,4qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;AC6Z3qB;AAEA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPA;AACA;AACA;AACA;AACA;AAAA,eAIA;EACAC;EACAC,aAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC,cAEA;QACAC;QACAC;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MAAA,CACA;;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,YACA;MACAC;MACA;MACAC;QACAC;MACA;MACA;MACAC;QACAD;QACAE;UACAC;QACA;;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;QACAC;QACAxC;MACA;IACA;MACA;IACA;IAEAyC;IACAC;IACAA;IACAA;EAUA;EACAC;IAAA;IACA;MACAC;IACA;IACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC,QACA;EACAC;IACAF;IACAG;IACAA;IACAA;IACA;IACA;IACA;IACAL;EACA;EACAM;IACAJ;IACA;EACA;EACAK,0CACA;IACAC;MACA;MACA;MACA;MACA;IACA;EAAA,EACA;EACAC;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACAC;kBACA/D;oBAAAgE;kBAAA;kBACAC;oBACA;sBACA;sBACA;sBACA;wBACA;wBACA;0BACA;wBACA;wBACA;0BACA;wBACA;wBACA;0BACA;wBACA;wBACA;0BACA;wBACA;wBACA;0BACA;wBACA;wBACA;0BACA;4BACA;4BACA;8BACAC;4BACA;4BACA;0BACA;wBACA;sBACA;oBACA;sBACA;sBACAC;wBAAAvD;wBAAAD;sBAAA;oBACA;kBACA;kBACAyD;oBACA;oBACAD;sBAAAvD;sBAAAD;oBAAA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA0D;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACAN;kBACA/D;oBAAAwC;kBAAA;kBACAyB;oBACA;sBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAK;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAJ;UAAAvD;UAAAD;QAAA;QACA;MACA;MAEA;MACA2C;;MAEA;MACA;QACAS;QACA/D;UACAwC;UACAgC;QACA;QACAP;UACA;YACA;YACA;;YAEA;YACA;;YAEA;YACA;;YAEA;YACA;;YAEA;YACA;UACA;QACA;MACA;IACA;IACA;IACAQ;MAAA;MACA;QAAA;MAAA;MAEA;QACA;QACA;MACA;QACA;UACAN;YAAAvD;YAAAD;UAAA;UACA;QACA;QACA;UAAAuD;UAAAQ;QAAA;MACA;MAEA;QACA;UAAAC;UAAAC;QACA;UACAT;YAAAvD;YAAAD;UAAA;UACA;UACA;QACA;;QAEA;QACA;UACAoD;UACA/D;YACAwC;YACAqC;YACAC;UACA;UACAb;YACA;cACA;cACA;cACA;gBACA;gBACA;cACA;gBACA;gBACA;gBACA;gBACAE;kBAAAvD;kBAAAD;gBAAA;cACA;YAEA;cACAwD;gBAAAvD;gBAAAD;cAAA;YACA;UACA;QACA;MACA;IACA;IACAoE;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA3B;MACA;QAAA;MAAA;IACA;IACA;IACA4B;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;;gBAEA;kBACAnB;kBACA/D;oBACAwC;oBACA2C;kBACA;kBACAlB;oBACA;sBACA;;sBAEA;sBACA;sBACA;;sBAEA;sBACA;sBACAE;wBAAAvD;wBAAAD;sBAAA;oBACA;sBACAwD;wBAAAvD;wBAAAD;sBAAA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAyE;MACA;QACAC;QACAC;MACA;IACA;IACAC;MACA;MACA;QAAAC;MAAA;QAAA;UACA9C;QACA;MAAA;IACA;IACA+C;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA5B;QACA/D;UACA4F;QACA;QACAC;QACA5B;UACA;YACA;cACA;YACA;cACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA6B;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;UACA5C;QACA;MACA;MACA;MACA;IACA;IACA6C,4CAGA;MAAA;MAAA,IAFAC;QACAxE;MAEA;QACAsC;QACA/D;UACAU;UACAwF;UACA1E;UACA2E;QACA;QACAN;QACA5B;UACA;YACA;cACA;YACA;YACA;cACA;gBACA;kBACAmC;kBACA;gBACA;kBACAA;kBACA;gBACA;kBACAA;kBACA;gBACA;kBACAA;kBACA;gBACA;kBACAA;kBACA;cAAA;cAEA;YACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAtC;UACA/D;YACAsG;UACA;UACAT;UACA5B;YACA;cACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cACA;cAEA;cACA;cACAsC;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;UACArD;QACA;MACA;MACA;MACA;IACA;IACAsD;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MAEA;MAEAC;QACAtD;;QAEA;QACA;UACAS;UACA/D;YACA6G;UACA;UACAhB;UACA5B;YACA;cACA;gBACA2C;gBAEA;kBACAhG;kBAAAD;kBAAAmG;kBAAA7C;oBACA;sBACAqC;sBAAAvC;sBAAAgD;wBACArG;wBACAmG;wBACAG;sBACA;oBACA;kBACA;gBACA;gBACA;cACA;gBACAJ;gBACAA;gBACA;kBAAAhG;kBAAAD;kBAAAmG;gBAAA;gBACA;YAAA;UAEA;QACA;MACA;MAEAF;QACAA;QACAA;MACA;IACA;IACAK;MACA9C;MACA;MACA;MACA;MACA;MACA;MACA;QACA+C;MACA;MAEA;QACAzD;MACA;IACA;IACA;IACA0D;MACA;MACA;QACA;UACApD;UACA/D;YACA6G;UACA;UACAhB;UACA5B;YACAX;UACA;QACA;MACA;IACA;IACA8D;MAAA;MACA;QACA;UACArD;UACA/D;YACAU;UACA;UACAmF;UACA5B;YACA;cACA;cACA;cACA;cACA;cACAsC;YACA;UACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAc;MAAA;MACA;QACA;UACAtD;UACA/D;UACA6F;UACA5B;YACA;cACA;cACAsC;YACA;UACA;QACA;MACA;IACA;IACAe;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACA;oBACAtE;kBACA;gBACA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA;cAAA;gBAAA,MAOAuE;kBAAA;kBAAA;gBAAA;gBACA;kBACA9G;gBACA;gBACA;gBACA;kBACA;kBACA;gBACA;gBAAA;cAAA;gBAIA0C;gBAEAtD;kBACAU;kBACA;kBACAiH;kBACAC;kBACAC;kBACAC;kBACAC;gBACA;gBAEA;kBACAhE;kBACA/D;kBACAiE;oBACA;sBACA;wBACA;wBACA;sBACA;wBACA;wBACA;0BAEA;4BAAA4C;0BAAA;0BACA1C;0BACA;0BAEA;4BAAApD;4BAAAiH;0BAAA;0BACA;4BACA;8BACA;gCACApH;gCACAD;gCACAmG;gCACA7C;kCACA;kCACA;gCACA;8BACA;4BACA;0BACA;wBACA;0BACA;4BACArD;4BACAkG;4BACA7C;8BACA;8BACA;4BACA;0BACA;wBACA;sBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAgE;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;UACAhF;QACA;MACA;MACA;QACAY;QACAgD;UACArG;UACAsG;UACAV;QACA;MACA;IACA;IACA8B;MACA;QACA;UACAjF;QACA;MACA;MACAgB;QACAJ;MACA;IAEA;IACAsE;MACA;IAAA,CACA;IACAC;MACA;IAAA,CACA;IACAC;MACA;QACA;UACApF;QACA;MACA;MACA;QACAgB;UACAvD;UACAD;UACA6H;QACA;QACA;MACA;MACA;MACA;QACAzE;MACA;QACAA;MACA;MACA;QACA0E;QACA1E;MACA;IACA;IACA2E;MACA;MACA;QACA;UACAvF;QACA;MACA;MACA;QACAC;MACA;QACAA;MACA;IACA;IACAuF;MACArF;IACA;IACAsF;MACA;QACA;UACAzF;QACA;MACA;MACAgB;QACAJ;QACAE,mCAEA;QACAG;QACAyE;MACA;IAEA;IACAC;MACA;QACA;UACA3F;QACA;MACA;MACAgB;QACAvD;QACAD;QACA6H;MACA;MACA;MACA;IACA;IACAO;MACA;QACA;UACA5F;QACA;MACA;MACA;IACA;IACA6F;MACA;QACA;UACA7F;QACA;MACA;MACA;MACA;IACA;IACA8F;MACA;QACA;UACA9F;QACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/uCA;AAAA;AAAA;AAAA;AAAswC,CAAgB,muCAAG,EAAC,C;;;;;;;;;;;ACA1xC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAswC,CAAgB,muCAAG,EAAC,C;;;;;;;;;;;ACA1xC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAswC,CAAgB,muCAAG,EAAC,C;;;;;;;;;;;ACA1xC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/rightTouch/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/rightTouch/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=26688098&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=26688098&lang=scss&scoped=true&\"\nimport style1 from \"./detail.vue?vue&type=style&index=1&id=26688098&lang=scss&scoped=true&\"\nimport style2 from \"./detail.vue?vue&type=style&index=2&id=26688098&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26688098\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/rightTouch/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=26688098&scoped=true&\"","var components\ntry {\n  components = {\n    uniNavBar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar\" */ \"@/uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    cimage: function () {\n      return import(\n        /* webpackChunkName: \"components/cimage/cimage\" */ \"@/components/cimage/cimage.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-popup/u-popup\" */ \"@/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    evanSwitch: function () {\n      return import(\n        /* webpackChunkName: \"components/evan-switch/evan-switch\" */ \"@/components/evan-switch/evan-switch.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n    loginPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/loginPopup/loginPopup\" */ \"@/components/loginPopup/loginPopup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !(_vm.game_status == 0)\n    ? _vm.__map(_vm.gameRewards, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var m0 = _vm.isRewardSelected(item, index)\n        return {\n          $orig: $orig,\n          m0: m0,\n        }\n      })\n    : null\n  var l1 = _vm.__map(_vm.couponList, function (item, idx) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = item.valid_from.substring(0, 11)\n    var g1 = item.valid_until.substring(0, 11)\n    return {\n      $orig: $orig,\n      g0: g0,\n      g1: g1,\n    }\n  })\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      return _vm.$common.toRule(2)\n    }\n    _vm.e1 = function ($event) {\n      return _vm.$common.noDouble(_vm.confirmSubmit, 1)\n    }\n    _vm.e2 = function ($event) {\n      _vm.zsPop = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"detail\">\r\n    <view class=\"nav\">\r\n      <uni-nav-bar color=\"#fff\" leftIcon=\"left\" backgroundColor=\"transparent\" :border=\"false\" :statusBar=\"true\"\r\n        :fixed=\"true\" :title=\"navTitle\">\r\n        <view slot=\"left\" class=\"nav-left\" @click=\"back\">\r\n          <image class=\"\"\r\n            src=\"https://img.alicdn.com/imgextra/i1/2200676927379/O1CN01jY8IAu24Ndcpz30ga_!!2200676927379.png\"\r\n            mode=\"widthFix\" lazy-load=\"false\" binderror=\"\" bindload=\"\" />\r\n        </view>\r\n      </uni-nav-bar>\r\n    </view>\r\n    <view class=\"banner\">\r\n      <swiper class=\"swiper\" :current=\"currentBanner\" :indicator-dots=\"false\" :autoplay=\"false\" :interval=\"3000\"\r\n        :duration=\"300\" circular @change=\"handleSwiperChange\">\r\n        <swiper-item v-for=\"(item, index) in awardList\" :key=\"item.id\">\r\n          <view class=\"swiper-item\">\r\n            <image class=\"gd-img\" :src=\"item.thumb\" mode=\"aspectFill\" />\r\n            <cimage class=\"gif\" src=\"/static/gif/shan_dian.gif\" mode=\"scaleToFill\" />\r\n          </view>\r\n        </swiper-item>\r\n      </swiper>\r\n    </view>\r\n\r\n    <view class=\"rule-btn-wrap\">\r\n      <view class=\"rule-btn-item\" @click=\"openRule\">\r\n        <image class=\"rule-btn-item-img\"\r\n          src=\"https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01WhNdaL24NdcWm4MBp_!!2200676927379.png\"\r\n          mode=\"widthFix\" lazy-load=\"false\" binderror=\"\" bindload=\"\" />\r\n      </view>\r\n      <view class=\"rule-btn-item\" @click=\"fresh\">\r\n        <image class=\"rule-btn-item-img\"\r\n          src=\"https://img.alicdn.com/imgextra/i1/2200676927379/O1CN01WJw25c24NdcXfR5bK_!!2200676927379.png\"\r\n          mode=\"widthFix\" lazy-load=\"false\" binderror=\"\" bindload=\"\" />\r\n      </view>\r\n      <view class=\"rule-btn-item\" @click=\"goZs\">\r\n        <image class=\"rule-btn-item-img\"\r\n          src=\"https://img.alicdn.com/imgextra/i3/2200676927379/O1CN01WR40VQ24NdcclKcBE_!!2200676927379.png\"\r\n          mode=\"widthFix\" lazy-load=\"false\" binderror=\"\" bindload=\"\" />\r\n      </view>\r\n    </view>\r\n\r\n    <swiper class=\"swiper swiper2\" easing-function=\"linear\" circular :current=\"currentBanner\" :indicator-dots=\"false\"\r\n      :autoplay=\"false\" :interval=\"100\" :duration=\"1000\" @change=\"handleSwiperChange\">\r\n      <swiper-item v-for=\"(item, index) in awardList\" :key=\"item.id\">\r\n        <view class=\"swiper-item\">\r\n          <view class=\"gd-info\">\r\n            <view class=\"gd-title\">{{ item.title }}</view>\r\n            <view class=\"gd-price\">对碰价 <text>￥{{ boxInfo.price }}</text></view>\r\n          </view>\r\n        </view>\r\n      </swiper-item>\r\n    </swiper>\r\n\r\n    <view class=\"card-page\">\r\n      <view class=\"card-row\">\r\n        <view class=\"card wish-card\">\r\n          <view class=\"card-content\">\r\n            <view class=\"card-title\">许愿卡牌</view>\r\n            <view class=\"card-image\">\r\n              <image :src=\"selected_prize_info.thumb\" mode=\"aspectFit\" />\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"card star-card\">\r\n          <view class=\"card-content\">\r\n            <view class=\"card-title\">卡牌池</view>\r\n            <view class=\"card-info\">\r\n              <view class=\"card-count\">已碰次数:</view>\r\n              <view class=\"card-num\">{{ collision_count }}</view>\r\n            </view>\r\n            <view class=\"card-images\">\r\n              <view v-for=\"(item, index) in rewardCards\" :key=\"index\" class=\"card-item\" @click=\"placeRewardCard(item)\">\r\n                <image :src=\"item.image\" mode=\"aspectFit\" />\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"reward-preview-page\">\r\n      <view class=\"title\">赏品预览</view>\r\n\r\n      <view class=\"grid-container\">\r\n        <template v-if=\"game_status == 0\">\r\n          <view class=\"grid-item\" v-for=\"(item, index) in initialRewards\" :key=\"index\">\r\n            <view class=\"flip-card\">\r\n              <view class=\"flip-card-inner\">\r\n                <view class=\"flip-card-front\">\r\n                  <image class=\"reward-image large\" :src=\"item.thumb\" mode=\"widthFix\" />\r\n                </view>\r\n              </view>\r\n            </view>\r\n            <view class=\"reward-title placeholder\">&nbsp;</view>\r\n          </view>\r\n        </template>\r\n        <template v-else>\r\n          <view class=\"grid-item\" v-for=\"(item, index) in gameRewards\" :key=\"index\"\r\n            @click=\"handleRewardSelect(item, index)\">\r\n            <view class=\"flip-card\">\r\n              <view class=\"flip-card-inner\">\r\n                <view class=\"flip-card-front\">\r\n                  <image class=\"reward-image small\" :src=\"item.thumb\" mode=\"widthFix\" />\r\n                  <view v-if=\"isRewardSelected(item, index)\" class=\"selected-overlay\">\r\n                    <image class=\"selected-icon\"\r\n                      src=\"https://img.alicdn.com/imgextra/i2/2200676927379/O1CN015KTYk524NdcYkCY9h_!!2200676927379.png\" />\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </view>\r\n            <view class=\"reward-title\">{{ item.title }}</view>\r\n          </view>\r\n        </template>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"play-game\" v-if=\"game_status == 0\">\r\n      <view class=\"play-btn\" @click=\"playGame\">开始游戏</view>\r\n    </view>\r\n\r\n    <!-- 许愿池弹窗 -->\r\n    <u-popup v-model=\"showWishPool\" mode=\"center\" border-radius=\"20\" :mask-close-able=\"false\">\r\n      <view class=\"wish-popup\">\r\n        <!-- 顶部封面图 -->\r\n        <view class=\"wish-header\">\r\n          <image class=\"wish-cover\"\r\n            src=\"https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01xEzfcZ24Ndcd5dGYa_!!2200676927379.png\"\r\n            mode=\"aspectFill\" />\r\n        </view>\r\n\r\n        <!-- 奖品列表 -->\r\n        <view class=\"wish-body\">\r\n          <view class=\"wish-title\">请选择一个许愿奖品</view>\r\n          <scroll-view class=\"wish-scroll\" scroll-y>\r\n            <view class=\"wish-list\">\r\n              <view class=\"wish-item\" v-for=\"(item, index) in wishPoolData\" :key=\"item.id\"\r\n                :class=\"{ active: selectedIndex === index }\" @click=\"selectItem(index)\">\r\n                <image class=\"item-image\" :src=\"item.thumb\" mode=\"aspectFit\" />\r\n                <view class=\"item-title\">{{ item.title }}</view>\r\n              </view>\r\n            </view>\r\n          </scroll-view>\r\n        </view>\r\n\r\n        <!-- 许愿按钮 -->\r\n        <view class=\"wish-footer\">\r\n          <view class=\"btn wish-btn\" @click=\"makeWish\">我要许愿</view>\r\n        </view>\r\n      </view>\r\n    </u-popup>\r\n\r\n\r\n    <!-- 开盒弹窗 -->\r\n    <uni-popup ref=\"orderPop\" type=\"bottom\">\r\n      <view v-if=\"orderData\" class=\"order-pop\">\r\n        <view class=\"order-pop-hd\">\r\n          确认订单\r\n\r\n          <view @click=\"closeOrderPop\" class=\"close icon\">\r\n            <image src=\"https://img.alicdn.com/imgextra/i3/2200676927379/O1CN01peY2tu24Ndcpz3gHV_!!2200676927379.png\"\r\n              mode=\"scaleToFill\" />\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"order-pop-bd\">\r\n          <!-- 开盒数量 -->\r\n          <!-- <view class=\"row\">\r\n            <view class=\"title\">开盒数量</view>\r\n\r\n            <view class=\"right\"></view>\r\n          </view> -->\r\n\r\n          <!-- <view class=\"btn-list\">\r\n            <view @click=\"changeBuyType(i)\" v-for=\"(item, i) in btnList\" :key=\"i\" class=\"btn-list-item\" :class=\"{\r\n              act: btnCur == i\r\n            }\">\r\n              {{ item.title }}\r\n            </view>\r\n          </view> -->\r\n\r\n          <view class=\"row\">\r\n            <view class=\"title\">订单金额</view>\r\n\r\n            <view class=\"right\">\r\n              <view class=\"price\">\r\n                ¥\r\n                <text>{{ orderData.discount.total_money }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"row\">\r\n            <view class=\"title\">余额抵扣</view>\r\n\r\n            <view class=\"right\">\r\n              <view class=\"price red\">\r\n                -\r\n                <text>{{ orderData.discount.money_dis }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"row\">\r\n            <view class=\"title\">优惠券</view>\r\n\r\n            <view class=\"right\">\r\n              <view class=\"price red\" v-if=\"orderData.couponCount\" @click=\"goCoupon\">\r\n                <template v-if=\"coupon_info && coupon_info.name\">{{ coupon_info.name }}<u-icon name=\"arrow-right\"\r\n                    color=\"#d5b644\" size=\"28\"></u-icon></template>\r\n                <template v-else> <text>{{ orderData.couponCount }}张可用</text><u-icon name=\"arrow-right\" color=\"#d5b644\"\r\n                    size=\"28\"></u-icon></template>\r\n              </view>\r\n              <view v-else class=\"empty-coupon\" @click=\"goCoupon\">\r\n                暂无可用 <u-icon name=\"arrow-right\" color=\"#d5b644\" size=\"28\"></u-icon>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"row\">\r\n            <view class=\"title\">获得数量</view>\r\n\r\n            <view class=\"right\">\r\n              <view class=\"gray\">随机获得{{ orderData.box.num }}件商品</view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"pay-type\">\r\n            <view @click.stop=\"changePayType(i)\" v-for=\"(item, i) in payTypeList\" :key=\"i\" class=\"pay-type-item\">\r\n              <view class=\"icon\">\r\n                <image :src=\"item.icon\" mode=\"scaleToFill\" />\r\n              </view>\r\n\r\n              <view class=\"title\">{{ item.title }}</view>\r\n\r\n              <view class=\"icon\">\r\n                <template v-if=\"payTypeCur == i\">\r\n                  <uni-icons type=\"checkbox-filled\" color=\"#7768d5\" size=\"25\" />\r\n                </template>\r\n                <template v-else>\r\n                  <uni-icons type=\"checkbox\" color=\"#7768d5\" size=\"25\" />\r\n                </template>\r\n              </view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"agree\">\r\n            <view class=\"title\">\r\n              阅读并同意\r\n              <text @click=\"$common.toRule(2)\">《抽盒规则》</text>\r\n            </view>\r\n\r\n            <evan-switch v-model=\"agree\" active-color=\"#7768d5\" inactive-color=\"#fff\" :size=\"20\" :active-value=\"true\"\r\n              :inactive-value=\"false\"></evan-switch>\r\n          </view>\r\n\r\n          <!-- <view class=\"rule-title\">{{ ruleData.title }}</view> -->\r\n\r\n          <scroll-view class=\"rule-content\" scroll-y>\r\n            <view v-html=\"ruleData.editor\"></view>\r\n          </scroll-view>\r\n        </view>\r\n\r\n        <view @click=\"$common.noDouble(confirmSubmit, 1)\" class=\"order-pop-ft\">\r\n          <view class=\"title\">确认同意信息并支付</view>\r\n\r\n          <view class=\"money\">\r\n            ¥\r\n            <text>{{ orderData.discount.pay_money }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n\r\n    <!-- 中赏记录 -->\r\n    <u-popup v-model=\"zsPop\" mode=\"bottom\" border-radius=\"16\" height=\"70%\">\r\n      <view class=\"zsbox-wrap\">\r\n        <view class=\"zsbox-top\">\r\n          <view class=\"zs-title\">\r\n            <view>对碰中赏记录</view>\r\n            <view class=\"zs-icon\" @click=\"zsPop = false\"><uni-icons type=\"closeempty\" color=\"#fff\" size=\"20\"></uni-icons>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- <view class=\"zs-wrap\">\r\n            <view class=\"zs-items\" :class=\"[currentItems == index ? 'activezs' : '']\" @click=\"zsCu(index)\"\r\n              v-for=\"(item, index) in btnLists\" :key=\"index\">\r\n              {{ item.title }}\r\n            </view>\r\n          </view> -->\r\n        </view>\r\n\r\n        <mescroll-uni ref=\"mescrollRef\" @init=\"mescrollInit\" @down=\"downCallback\" @up=\"getBoxLogList\" :down=\"downOption\"\r\n          :up=\"upOption\">\r\n          <view class=\"award-wrap\">\r\n            <view class=\"award-log-item\" :style=\"{ backgroundImage: `url(${item.image})` }\"\r\n              v-for=\"(item, index) in boxLogList\" :key=\"index\">\r\n              <view class=\"award-log-left\">\r\n                <view class=\"award-log-time\">\r\n                  {{ item.created_at }}\r\n                </view>\r\n                <view class=\"award-log-info\">\r\n                  {{ item.nickName }} 获得 <text class=\"award-name\">{{ item.title }}</text>\r\n                </view>\r\n              </view>\r\n              <view class=\"award-log-right\">\r\n                <image class=\"award-log-img\" :src=\"item.thumb\" mode=\"aspectFit\" lazy-load=\"false\" binderror=\"\"\r\n                  bindload=\"\" />\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </mescroll-uni>\r\n      </view>\r\n    </u-popup>\r\n\r\n    <!-- 优惠券 -->\r\n    <u-popup v-model=\"couponPop\" mode=\"bottom\" border-radius=\"16\" height=\"70%\">\r\n      <view class=\"coupon-wrap\">\r\n        <view class=\"coupon-title\">优惠券列表</view>\r\n        <view class=\"youhuicon\">\r\n          <view class=\"couList\" v-for=\"(item, idx) in couponList\" :key=\"idx\">\r\n\r\n            <view class=\"l\" :class=\"[item.is_available ? '' : 'available']\">\r\n              <view class=\"aa\">\r\n                <text class=\"pri\">￥{{ item.discount_amount }}</text>\r\n                <view class=\"tiao\">满减券</view>\r\n              </view>\r\n            </view>\r\n            <view class=\"r\">\r\n              <view class=\"ll\">\r\n                <view class=\"t\">{{ item.name }}</view>\r\n                <view class=\"man\">满{{ item.minimum_spend }}减{{ item.discount_amount }}元券</view>\r\n                <view class=\"qi\">{{ item.valid_from.substring(0, 11) }}至{{ item.valid_until.substring(0, 11) }} </view>\r\n              </view>\r\n              <view class=\"rr xx\" v-if=\"item.is_available\" @click=\"useCouPon(item)\">使用</view>\r\n              <view class=\"rr xx2\" v-else>不可用</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <u-empty text=\"暂无优惠券\" mode=\"coupon\" :show=\"couponShow\" margin-top=\"400\"></u-empty>\r\n      </view>\r\n    </u-popup>\r\n\r\n    <!-- 规则说明 -->\r\n    <u-popup v-model=\"rulePop\" mode=\"center\" width=\"93%\" border-radius=\"20\">\r\n      <view class=\"rule-pop\">\r\n        <view class=\"rule-title\">\r\n          玩法说明\r\n        </view>\r\n        <scroll-view class=\"rule-pop-bd\" scroll-y>\r\n          <view class=\"rule-content rule-content-active\">\r\n            下单后不退换不换，请理性下单\r\n          </view>\r\n          <view class=\"rule-content rule-content-active\"> 1、禁止未满18周岁的未成年人在平台内的一切消费行为。</view>\r\n          <view class=\"rule-content\" v-if=\"boxInfo.touch_type == 0\">\r\n            2、无限卡池版规则:共11种卡面，出现概率均等均为1/11，无数量限制;游戏开始时，用户可自行选择1个类别进行“许愿”，初始随机发放9张卡牌初始的9张牌中每出现一张许愿牌，则会额外多张牌在奖励卡牌池(仅初始9张出现许愿牌会奖励卡牌，九不同有许愿牌也加张，游戏进行中出现许愿!卡牌不额外奖励卡牌)点击奖励卡池可以将奖励卡牌放置到场上;\r\n          </view>\r\n          <view class=\"rule-content\" v-if=\"boxInfo.touch_type == 1\">\r\n            2、经典版规则:共9种卡面，每种角色6张，共计54张牌，出现概率均等;游戏开始时，用户可自行选择1个类别进行“许愿”，初始随机发放9张卡牌，游戏过程中每出现一张许愿牌，则会额外多一张牌在奖励卡牌池(初始9张九不同不加张直接0碰结算)点击奖励卡池可以将奖励卡牌放置到场上;\r\n          </view>\r\n          <view class=\"rule-content\">\r\n            3、选择场上两张相同卡牌,会将两张卡片消除，计为1次碰;\r\n          </view>\r\n          <view class=\"rule-content\">\r\n            4、当场上没有相同卡牌且奖励卡池处没有卡牌时游戏自动结束，根据“碰“数获得相应的赏品。6.超出奖池以外的碰数系统无法自动结算会出现空白页面，请联系客服结算!\r\n          </view>\r\n          <view class=\"rule-content\">\r\n            5、对对碰说明。\r\n          </view>\r\n        </scroll-view>\r\n      </view>\r\n    </u-popup>\r\n\r\n    <!-- 奖品订单弹窗 -->\r\n    <u-popup v-model=\"showOrderPool\" mode=\"center\" border-radius=\"20\" :mask-close-able=\"false\">\r\n      <view class=\"wish-popup\">\r\n        <!-- 顶部封面图 -->\r\n        <view class=\"order-header\">\r\n          <image class=\"order-cover\"\r\n            src=\"https://img.alicdn.com/imgextra/i1/2200676927379/O1CN013nQc6b24NdcX1xgHH_!!2200676927379.png\"\r\n            mode=\"aspectFill\" />\r\n        </view>\r\n\r\n        <!-- 订单列表 -->\r\n        <view class=\"order-body\">\r\n          <scroll-view class=\"order-scroll\" scroll-y>\r\n            <view class=\"order-list\">\r\n              <view class=\"order-item\" v-for=\"(item, index) in orderList\" :key=\"item.id\">\r\n                <image class=\"item-image\" :src=\"item.thumb\" mode=\"aspectFit\" />\r\n                <view class=\"item-title\">{{ item.title }}</view>\r\n              </view>\r\n            </view>\r\n          </scroll-view>\r\n        </view>\r\n\r\n        <!-- 确认按钮 -->\r\n        <view class=\"wish-footer\">\r\n          <view class=\"btn wish-btn\" @click=\"closesOrderPool\">我知道了</view>\r\n        </view>\r\n      </view>\r\n    </u-popup>\r\n\r\n    <loginPopup ref=\"loginPopup\"></loginPopup>\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nconst switchMp3 = 'https://www.img.xcooo.cn/uploads/2024/02/17887756404cea30.mp3'\r\nconst switchMusic = uni.createInnerAudioContext();\r\n// const bg_music = 'https://img.50api.cn/dingdang/music.mp3'\r\nconst bg_music = ''\r\nconst bgMusic = uni.createInnerAudioContext();\r\nimport {\r\n  mapGetters\r\n} from 'vuex'\r\nexport default {\r\n  name: 'kaixiang',\r\n  components: {\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      muteBgMusic: false,\r\n      optionsData: '',\r\n      boxInfo: {},\r\n      // 赏等级列表\r\n      markList: [],\r\n      // 奖品\r\n      awardList: [],\r\n      orderData: '',\r\n      // 购买方案\r\n      btnCur: 0,\r\n      // 支付类型\r\n      payTypeCur: 0,\r\n      payTypeList: [\r\n        // #ifdef H5 || MP\r\n        {\r\n          id: 3,\r\n          icon: 'https://img.alicdn.com/imgextra/i2/2200676927379/O1CN01mfiDjv24NdXdrF5yS_!!2200676927379.png',\r\n          title: '微信支付'\r\n        },\r\n        // {\r\n        //   id: 4,\r\n        //   icon: 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01A3bNW324NdW9QBJvc_!!2200676927379.png',\r\n        //   title: '支付宝支付'\r\n        // }\r\n        // #endif\r\n        // {\r\n        //   id: 2,\r\n        //   icon: '',\r\n        //   title: '余额支付'\r\n        // }\r\n      ],\r\n      agree: true,\r\n      ruleData: '',\r\n      is_epay: 0,\r\n      currentBanner: 0,\r\n      zsPop: false,\r\n      boxLogList: [],\r\n      btnLists: [\r\n      ],\r\n      currentItems: 0,\r\n      // 下拉刷新的配置(可选, 绝大部分情况无需配置)\r\n      downOption: {\r\n        auto: false\r\n      },\r\n      // 上拉加载的配置(可选, 绝大部分情况无需配置)\r\n      upOption: {\r\n        auto: false,\r\n        page: {\r\n          size: 20 // 每页数据的数量,默认10\r\n        },\r\n        textNoMore: '-- END --'\r\n      },\r\n      couponList: [],\r\n      couponPop: false,\r\n      couponShow: false,\r\n      coupon_info: {},\r\n      animateSet: uni.getStorageSync('animateSet') ? uni.getStorageSync('animateSet') : false,\r\n      setShow: false,\r\n      rulePop: false,\r\n      // 赏品数据\r\n      initialRewards: [], // 初始阶段的卡牌（只图）\r\n      gameRewards: [], // 游戏阶段的卡牌（图 + 文）\r\n      rewardCards: [],  // 奖励卡池\r\n      wishPoolData: [],\r\n      showWishPool: false,\r\n      selectedIndex: null,\r\n      // 许愿的奖品\r\n      order_id: null,\r\n      selected_prize_info: {\r\n        thumb: 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01EyyA5i24NdcZzXtx6_!!2200676927379.png'\r\n      },\r\n      collision_count: 0,\r\n      isPlacingCard: false,\r\n      // 选中的奖品\r\n      selectedRewards: [],\r\n      showOrderPool: false,\r\n      orderList: [],\r\n      game_status: 0\r\n    }\r\n  },\r\n  onLoad (options) {\r\n    if (options.scene) {\r\n      let arr = options.scene.split('_')\r\n      this.optionsData = {\r\n        userId: arr[1],\r\n        id: arr[2]\r\n      }\r\n    } else {\r\n      this.optionsData = options\r\n    }\r\n\r\n    switchMusic.src = switchMp3\r\n    bgMusic.src = bg_music\r\n    bgMusic.autoplay = true;\r\n    bgMusic.loop = true;\r\n\r\n    // #ifdef H5\r\n    let order_info = uni.getStorageSync('order_info_box')\r\n    // let order_info = {provider: 'alipay', order_sn: 'C916652564524855'}\r\n    console.log(order_info, '这里是打印的订单信息')\r\n    if (order_info) {\r\n      this.checkPayStatus()\r\n    }\r\n    // #endif\r\n  },\r\n  onShow () {\r\n    this.$store.dispatch('getUserInfo').then(res => {\r\n      console.log(res)\r\n    })\r\n    this.$store.dispatch('getAppConfig').then((res) => {\r\n      this.is_epay = res.data.is_epay\r\n    })\r\n    // 清空优惠券信息\r\n    this.coupon_info = {}\r\n    this.getData()\r\n    this.getGameDetail()\r\n    this.initInitialRewards();\r\n  },\r\n  watch: {\r\n  },\r\n  onUnload () {\r\n    console.log('移除事件')\r\n    clearInterval(this.barrageTimer)\r\n    clearInterval(this.checkTimer)\r\n    clearInterval(this.cancelTimer)\r\n    this.barrageTimer = null\r\n    this.cancelOrderPay()\r\n    this.cancelCheckPayStatus()\r\n    bgMusic.pause()\r\n  },\r\n  onHide () {\r\n    console.log('页面隐藏事件')\r\n    this.$refs.loginPopup.close();\r\n  },\r\n  computed: {\r\n    ...mapGetters(['sysConfig', 'userInfo']),\r\n    navTitle () {\r\n      // if (this.boxInfo.touch_type_title) {\r\n      //   return this.boxInfo.touch_type_title + '对对碰'\r\n      // }\r\n      return '对对碰'\r\n    }\r\n  },\r\n  methods: {\r\n    async getGameDetail () {\r\n      this.req({\r\n        url: '/v1/collision/getCollisionGameDetail',\r\n        data: { box_id: this.optionsData.id },\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            const data = res.data;\r\n            // 判断接口返回的数据是否有效，只有当数据存在时才进行赋值\r\n            if (data) {\r\n              // 仅在有数据时才赋值\r\n              if (data.game_status !== undefined) {\r\n                this.game_status = data.game_status;\r\n              }\r\n              if (data.order_id !== undefined) {\r\n                this.order_id = data.order_id;\r\n              }\r\n              if (data.collision_count !== undefined) {\r\n                this.collision_count = data.collision_count;\r\n              }\r\n              if (data.selected_prize_info) {\r\n                this.selected_prize_info = data.selected_prize_info;\r\n              }\r\n              if (data.game_rewards && Array.isArray(data.game_rewards)) {\r\n                this.gameRewards = data.game_rewards;\r\n              }\r\n              if (data.reward_cards && Array.isArray(data.reward_cards)) {\r\n                this.rewardCards = data.reward_cards.map((card, index) => {\r\n                  // 给没有图片的卡片设置默认图片\r\n                  if (!card.image) {\r\n                    card.image = 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01EyyA5i24NdcZzXtx6_!!2200676927379.png';\r\n                  }\r\n                  return card\r\n                });\r\n              }\r\n            }\r\n          } else {\r\n            // 处理接口返回其他错误的情况\r\n            uni.showToast({ title: res.msg || '获取数据失败', icon: 'none' });\r\n          }\r\n        },\r\n        fail: () => {\r\n          // 网络请求失败的处理\r\n          uni.showToast({ title: '请求失败，请稍后再试', icon: 'none' });\r\n        }\r\n      });\r\n    },\r\n    async getWishPool () {\r\n      this.req({\r\n        url: '/v1/collision/getWishPoolByOrderId',\r\n        data: { order_id: this.order_id, },\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            this.wishPoolData = res.data.awards_pool\r\n            this.showWishPool = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    selectItem (index) {\r\n      if (this.selectedIndex === index) {\r\n        // 如果再次点击已选中的项，则取消选中\r\n        this.selectedIndex = null;\r\n      } else {\r\n        this.selectedIndex = index;\r\n      }\r\n    },\r\n    makeWish () {\r\n      if (this.selectedIndex === null) {\r\n        uni.showToast({ title: '请选择一个奖品进行许愿', icon: 'none' });\r\n        return;\r\n      }\r\n\r\n      const selectedItem = this.wishPoolData[this.selectedIndex];\r\n      console.log('许愿成功：', selectedItem);\r\n\r\n      // 提交许愿请求逻辑\r\n      this.req({\r\n        url: '/v1/collision/makeWish',\r\n        data: {\r\n          order_id: this.order_id,\r\n          prize_id: selectedItem.id\r\n        },\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            // 设置许愿奖品信息\r\n            this.selected_prize_info = res.data.selected_prize_info;\r\n\r\n            // 设置游戏初始牌池 (gameRewards)\r\n            this.gameRewards = res.data.game_rewards;\r\n\r\n            // 设置奖励卡池\r\n            this.rewardCards = res.data.reward_cards\r\n\r\n            // 隐藏许愿池界面\r\n            this.showWishPool = false;\r\n\r\n            // 更新游戏状态\r\n            this.game_status = res.data.game_status\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 对对碰\r\n    handleRewardSelect (card, index) {\r\n      const existIndex = this.selectedRewards.findIndex(r => r.index === index)\r\n\r\n      if (existIndex !== -1) {\r\n        // 再次点击取消选中\r\n        this.selectedRewards.splice(existIndex, 1)\r\n      } else {\r\n        if (this.selectedRewards.length === 2) {\r\n          uni.showToast({ title: '最多只能选择两个', icon: 'none' })\r\n          return\r\n        }\r\n        this.selectedRewards.push({ card, index })\r\n      }\r\n\r\n      if (this.selectedRewards.length === 2) {\r\n        const [c1, c2] = this.selectedRewards\r\n        if (c1.card.id !== c2.card.id) {\r\n          uni.showToast({ title: '所选商品不同', icon: 'none' })\r\n          this.selectedRewards = []\r\n          return\r\n        }\r\n\r\n        // 发请求\r\n        this.req({\r\n          url: '/v1/collision/matchCards',\r\n          data: {\r\n            order_id: this.order_id,\r\n            card1_id: c1.card.id,\r\n            card2_id: c2.card.id\r\n          },\r\n          success: res => {\r\n            if (res.code == 200) {\r\n              const data = res.data;\r\n              this.game_status = data.game_status\r\n              if (this.game_status == 2) {\r\n                this.showOrderPool = true\r\n                this.orderList = data.orderList\r\n              } else {\r\n                this.gameRewards = data.game_rewards\r\n                this.collision_count = data.collision_count\r\n                this.selectedRewards = []  // ✅清除选中状态\r\n                uni.showToast({ title: res.msg, icon: 'none' })\r\n              }\r\n\r\n            } else {\r\n              uni.showToast({ title: res.msg || '操作失败', icon: 'none' })\r\n            }\r\n          }\r\n        })\r\n      }\r\n    },\r\n    closesOrderPool () {\r\n      this.showOrderPool = false\r\n      // 重置游戏卡牌池\r\n      this.resetCard()\r\n    },\r\n    resetCard () {\r\n      this.initInitialRewards();\r\n      this.selected_prize_info.thumb = 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01EyyA5i24NdcZzXtx6_!!2200676927379.png'\r\n      this.collision_count = 0\r\n      this.rewardCards = []\r\n      this.selectedRewards = []\r\n      this.gameRewards = []\r\n      this.game_status = 0\r\n    },\r\n    isRewardSelected (reward, index) {\r\n      console.log(this.selectedRewards)\r\n      return this.selectedRewards.some(r => r.index === index);\r\n    },\r\n    // 将选中的卡片添加到游戏奖励列表\r\n    async placeRewardCard (card) {\r\n      // if (this.isPlacingCard) return; // 防止重复点击\r\n      // this.isPlacingCard = true;\r\n\r\n      this.req({\r\n        url: '/v1/collision/placeRewardCard',\r\n        data: {\r\n          order_id: this.order_id,\r\n          card_id: card.id\r\n        },\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            const data = res.data;\r\n\r\n            // ✅ 后端返回的最新卡牌状态\r\n            this.gameRewards = data.game_rewards || [];\r\n            this.collision_count = data.collision_count || 0;\r\n\r\n            // 将 rewardCards 更新\r\n            this.rewardCards = data.remaining_reward_cards\r\n            uni.showToast({ title: '卡牌已放置', icon: 'success' });\r\n          } else {\r\n            uni.showToast({ title: res.msg || '操作失败', icon: 'none' });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    getCardStyle (index) {\r\n      return {\r\n        left: `${index * 20}%`,\r\n        zIndex: 5 - index,\r\n      };\r\n    },\r\n    initInitialRewards () {\r\n      const url = 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01EyyA5i24NdcZzXtx6_!!2200676927379.png';\r\n      this.initialRewards = Array.from({ length: 9 }, () => ({\r\n        thumb: url\r\n      }));\r\n    },\r\n    useCouPon (item) {\r\n      this.coupon_info = item\r\n      // 请求订单信息\r\n      this.confirmSubmit(0)\r\n      this.couponPop = false\r\n    },\r\n    goCoupon () {\r\n      this.couponPop = true\r\n      this.getUserCoupon()\r\n    },\r\n    getUserCoupon () {\r\n      this.req({\r\n        url: '/v1/coupon/order_coupons',\r\n        data: {\r\n          paymentAmount: this.orderData.discount.pay_money\r\n        },\r\n        Loading: true,\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            if (res.data.length == 0) {\r\n              this.couponShow = true\r\n            } else {\r\n              this.couponShow = false\r\n            }\r\n            this.couponList = res.data\r\n          } else {\r\n            this.couponShow = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    zsCu (index) {\r\n      this.currentItems = index\r\n      this.boxLogList = []\r\n      this.mescroll.resetUpScroll()\r\n      this.mescroll.scrollTo(0, 0)\r\n    },\r\n    zs () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      this.zsPop = true\r\n      this.getTab()\r\n    },\r\n    getBoxLogList ({\r\n      num,\r\n      size\r\n    }) {\r\n      this.req({\r\n        url: '/v1/box/boxLogList',\r\n        data: {\r\n          id: this.optionsData.id,\r\n          mark_id: this.btnLists.length ? this.btnLists[this.currentItems].id : 0,\r\n          page: num,\r\n          per_page: size\r\n        },\r\n        Loading: true,\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            if (num == 1) {\r\n              this.boxLogList = []\r\n            }\r\n            let newArr = res.data.data.map(item => {\r\n              switch (item.mark_id) {\r\n                case 33:\r\n                  item.image = 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01khNh7d24NdcoDC0Ny_!!2200676927379.png';\r\n                  break;\r\n                case 34:\r\n                  item.image = 'https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01KaZ6qs24Ndco6VAfA_!!2200676927379.png';\r\n                  break;\r\n                case 35:\r\n                  item.image = 'https://img.alicdn.com/imgextra/i2/2200676927379/O1CN01GpZzz024NdcoDFpOW_!!2200676927379.png';\r\n                  break;\r\n                case 36:\r\n                  item.image = 'https://img.alicdn.com/imgextra/i1/2200676927379/O1CN01PZkzwd24NdcoKRnBt_!!2200676927379.png';\r\n                  break;\r\n                default:\r\n                  item.image = 'https://img.alicdn.com/imgextra/i1/2200676927379/O1CN01PZkzwd24NdcoKRnBt_!!2200676927379.png';\r\n                  break;\r\n              }\r\n              return item;\r\n            });\r\n            this.boxLogList = [...this.boxLogList, ...newArr]\r\n            this.mescroll.endBySize(res.data.data.length, res.data.total)\r\n          } else {\r\n            this.mescroll.endBySize(0, 0)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    getTab () {\r\n      return new Promise((resolve, reject) => {\r\n        this.req({\r\n          url: '/v1/box/mark',\r\n          data: {\r\n            type: 2\r\n          },\r\n          Loading: true,\r\n          success: res => {\r\n            if (res.code == 200) {\r\n              this.btnLists = res.data.map(item => {\r\n                // if (item.id == 1) {\r\n                //   item.title = '传说'\r\n                // }\r\n                // if (item.id == 4) {\r\n                //   item.title = '高级'\r\n                // }\r\n                return item\r\n              })\r\n\r\n              this.mescroll.resetUpScroll()\r\n              this.mescroll.scrollTo(0, 0)\r\n              resolve()\r\n            }\r\n          }\r\n        })\r\n      })\r\n    },\r\n    handleSwiperChange (event) {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      const current = event.detail.current;\r\n      this.currentBanner = current;\r\n    },\r\n    getPrevIndex () {\r\n      return (this.currentBanner - 1 + this.awardList.length) % this.awardList.length;\r\n    },\r\n    getNextIndex () {\r\n      return (this.currentBanner + 1) % this.awardList.length;\r\n    },\r\n    checkPayStatus () {\r\n      const _this = this\r\n\r\n      const order_info = uni.getStorageSync('order_info_box')\r\n\r\n      _this.checkTimer = setInterval(() => {\r\n        console.log(order_info, '获取到的订单数据')\r\n\r\n        // 查询订单\r\n        this.req({\r\n          url: '/v1/pay/orderStatus',\r\n          data: {\r\n            order_sn: order_info.order_sn\r\n          },\r\n          Loading: true,\r\n          success: (res) => {\r\n            switch (res.code) {\r\n              case 200:\r\n                _this.cancelCheckPayStatus()\r\n\r\n                this.$common.toast({\r\n                  title: '支付成功', icon: 'success', duration: 1500, success: () => {\r\n                    this.$common.to({\r\n                      type: 1, url: '/pages/index/draw', query: {\r\n                        id: res.data.id,\r\n                        order_sn: order_info.order_sn,\r\n                        drawNum: res.data.box_num\r\n                      }\r\n                    })\r\n                  }\r\n                })\r\n                break;\r\n              case 203:\r\n                _this.cancelOrderPay()\r\n                _this.cancelCheckPayStatus()\r\n                this.$common.toast({ title: '支付失败', icon: 'none', duration: 500 })\r\n                break;\r\n            }\r\n          }\r\n        })\r\n      }, 2 * 1000)\r\n\r\n      _this.cancelTimer = setTimeout(() => {\r\n        _this.cancelOrderPay()\r\n        _this.cancelCheckPayStatus();\r\n      }, 60 * 1000)\r\n    },\r\n    cancelCheckPayStatus () {\r\n      uni.removeStorageSync('order_info_box')\r\n      // this.$common.toast({\r\n      // \ttitle: '支付超时',\r\n      // \ticon: 'none',\r\n      // \tduration: 500\r\n      // })\r\n      if (this.checkTimer) {\r\n        clearTimeout(this.checkTimer)\r\n      }\r\n\r\n      if (this.cancelTimer) {\r\n        clearInterval(this.cancelTimer)\r\n      }\r\n    },\r\n    // 取消支付\r\n    cancelOrderPay () {\r\n      const order_info = uni.getStorageSync('order_info_box')\r\n      if (order_info.order_sn) {\r\n        this.req({\r\n          url: '/v1/pay/cancel',\r\n          data: {\r\n            order_sn: order_info.order_sn\r\n          },\r\n          Loading: true,\r\n          success: (res) => {\r\n            console.log(res)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    getData () {\r\n      return new Promise((resolve, reject) => {\r\n        this.req({\r\n          url: '/v1/box/info',\r\n          data: {\r\n            id: this.optionsData.id\r\n          },\r\n          Loading: true,\r\n          success: res => {\r\n            if (res.code == 200) {\r\n              this.boxInfo = res.data.box\r\n              this.awardList = res.data.awardList\r\n              this.markList = res.data.box ? res.data.box.markList : []\r\n              this.getDraw()\r\n              resolve()\r\n            }\r\n          }\r\n        })\r\n      })\r\n    },\r\n    /**\r\n* @description: 获取抽奖方式\r\n* @return {*}\r\n*/\r\n    getDraw () {\r\n      return new Promise((resolve, reject) => {\r\n        this.req({\r\n          url: '/v1/box/draw',\r\n          data: {},\r\n          Loading: true,\r\n          success: res => {\r\n            if (res.code == 200) {\r\n              this.btnList = res.data\r\n              resolve()\r\n            }\r\n          }\r\n        })\r\n      })\r\n    },\r\n    changePayType (e) {\r\n      this.payTypeCur = e\r\n    },\r\n    changeBuyType (e) {\r\n      this.btnCur = e\r\n      this.confirmSubmit(0)\r\n    },\r\n    openBox () {\r\n      this.confirmSubmit(0)\r\n    },\r\n    async confirmSubmit (e) {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      if (!this.userInfo) {\r\n        this.$refs.loginPopup.open()\r\n        return\r\n      }\r\n      // if (this.btnList?.length == 0) {\r\n      //   await this.getDraw()\r\n      // }\r\n\r\n      if (e == 1 && !this.agree) {\r\n        this.$common.toast({\r\n          title: '请阅读并同意抽盒规则'\r\n        })\r\n        this.ruleType = 'buy'\r\n        this.$common.getRule(3, true).then(res => {\r\n          this.ruleData = res\r\n          this.openRulePop()\r\n        })\r\n        return\r\n      }\r\n\r\n      console.log(this.btnCur)\r\n\r\n      let data = {\r\n        id: this.boxInfo.id,\r\n        // draw_id: this.btnList[this.btnCur].id || '',\r\n        draw_num: this.btnCur,\r\n        invite_user_id: this.optionsData.userId || '',\r\n        pay_type: this.payTypeList[this.payTypeCur].id,\r\n        coupon_id: this.coupon_info?.id || '',\r\n        submit: e\r\n      }\r\n\r\n      this.req({\r\n        url: '/v1/collision/order',\r\n        data,\r\n        success: res => {\r\n          if (res.code == 200) {\r\n            if (e == 0) {\r\n              this.orderData = res.data\r\n              this.openOrderPop()\r\n            } else {\r\n              this.closeOrderPop()\r\n              if (res.data.pay_money * 1 > 0) {\r\n                // #ifdef H5 || MP\r\n                const order_info = { order_sn: res.data.order_sn }\r\n                uni.setStorageSync('order_info_box', order_info);\r\n                this.checkPayStatus()\r\n                // #endif\r\n                const params = { ...res.data, is_epay: this.is_epay, returnUrl: `/pages/box/kaixiang?id=${this.boxInfo.id}` }\r\n                this.$common.orderPay(params).then(res1 => {\r\n                  if (res1 == 'success') {\r\n                    this.$common.toast({\r\n                      title: '支付成功',\r\n                      icon: 'success',\r\n                      duration: 1500,\r\n                      success: () => {\r\n                        this.order_id = res.data.order_id\r\n                        this.getWishPool()\r\n                      }\r\n                    })\r\n                  }\r\n                })\r\n              } else {\r\n                this.$common.toast({\r\n                  title: '支付成功',\r\n                  duration: 1500,\r\n                  success: () => {\r\n                    this.order_id = res.data.order_id\r\n                    this.getWishPool()\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    openOrderPop () {\r\n      this.agree = true\r\n      this.$refs.orderPop.open()\r\n    },\r\n    closeOrderPop () {\r\n      this.$refs.orderPop.close()\r\n    },\r\n    tryPlay () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      this.$common.to({\r\n        url: '/pages/index/draw',\r\n        query: {\r\n          id: this.boxInfo.id,\r\n          drawNum: 1,\r\n          type: 'play'\r\n        }\r\n      })\r\n    },\r\n    goMall () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      uni.switchTab({\r\n        url: '/pages/index/index',\r\n      });\r\n\r\n    },\r\n    upper: function (e) {\r\n      // console.log(e)\r\n    },\r\n    lower: function (e) {\r\n      // console.log(e)\r\n    },\r\n    goInvite () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      if (!this.userInfo) {\r\n        uni.showToast({\r\n          title: '登录后再操作',\r\n          icon: 'none',\r\n          mask: true\r\n        })\r\n        return\r\n      }\r\n      let url\r\n      if (this.userInfo.level == 2) {\r\n        url = '/package/mine/daili'\r\n      } else {\r\n        url = '/package/mine/yaoqing'\r\n      }\r\n      this.$common.to({\r\n        tabCur: 1,\r\n        url,\r\n      })\r\n    },\r\n    playMusic () {\r\n      this.muteBgMusic = !this.muteBgMusic;\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      if (this.muteBgMusic) {\r\n        bgMusic.play()\r\n      } else {\r\n        bgMusic.pause()\r\n      }\r\n    },\r\n    noticeEnd (e) {\r\n      console.log('123', e)\r\n    },\r\n    back () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      uni.navigateTo({\r\n        url: '/pages/rightTouch/list',\r\n        success: (result) => {\r\n\r\n        },\r\n        fail: () => { },\r\n        complete: () => { }\r\n      });\r\n\r\n    },\r\n    fresh () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      uni.showToast({\r\n        title: '刷新成功',\r\n        icon: 'none',\r\n        mask: true\r\n      })\r\n      this.getData()\r\n      this.getGameDetail()\r\n    },\r\n    openRule () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      this.rulePop = true\r\n    },\r\n    goZs () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      this.zsPop = true\r\n      this.getTab()\r\n    },\r\n    playGame () {\r\n      this.$nextTick(() => {\r\n        if (switchMusic) {\r\n          switchMusic.play()\r\n        }\r\n      })\r\n      this.btnCur = 1\r\n      this.confirmSubmit(0)\r\n      // this.startGame()\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n.detail {\r\n  background: url(\"https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01unkdtT24NdWplMdw8_!!2200676927379.png\") no-repeat;\r\n  background-size: 100vw 100%;\r\n  background-repeat: no-repeat;\r\n  min-height: calc(100vh - 50px);\r\n  // background: #222333;\r\n  padding-bottom: 300rpx;\r\n\r\n  .nav {\r\n    ::v-deep .uni-navbar__header {\r\n      padding: 0;\r\n    }\r\n\r\n    ::v-deep .uni-nav-bar-text {\r\n      font-size: 38rpx;\r\n      font-family: xcooo;\r\n    }\r\n\r\n    .nav-left {\r\n      image {\r\n        width: 70px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .banner {\r\n    margin-top: 100rpx;\r\n    height: 17.71875rem;\r\n    background: url(https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01PYl5yI24Ndcpz1460_!!2200676927379.png) no-repeat 50% 0%/50rem auto;\r\n\r\n    position: relative;\r\n\r\n    .free-play {\r\n      width: 62px;\r\n      height: 62px;\r\n      position: absolute;\r\n      right: 26px;\r\n      bottom: 0;\r\n      z-index: 2;\r\n\r\n      .free-play-bg {\r\n        width: 62px;\r\n        height: 62px;\r\n        -webkit-animation: xuanzhuan 3s linear infinite;\r\n        animation: xuanzhuan 3s linear infinite;\r\n\r\n        image {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n\r\n        @keyframes xuanzhuan {\r\n          0% {\r\n            -webkit-transform: rotate(0deg);\r\n            transform: rotate(0deg);\r\n          }\r\n\r\n          25% {\r\n            -webkit-transform: rotate(90deg);\r\n            transform: rotate(90deg);\r\n          }\r\n\r\n          50% {\r\n            -webkit-transform: rotate(180deg);\r\n            transform: rotate(180deg);\r\n          }\r\n\r\n          75% {\r\n            -webkit-transform: rotate(270deg);\r\n            transform: rotate(270deg);\r\n          }\r\n\r\n          100% {\r\n            -webkit-transform: rotate(1turn);\r\n            transform: rotate(1turn);\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      .free-play-img {\r\n        width: 41px;\r\n        height: 41px;\r\n        position: relative;\r\n        top: -46px;\r\n        left: 10px;\r\n\r\n        image {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  .swiper {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n\r\n    .swiper-item {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n\r\n      .gd-img {\r\n        width: 197px;\r\n        height: 197px;\r\n        -webkit-animation: bLine 3s linear infinite;\r\n        animation: bLine 3s linear infinite;\r\n\r\n        image {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n        }\r\n      }\r\n\r\n      @keyframes bLine {\r\n        0% {\r\n          transform: translateY(0);\r\n        }\r\n\r\n        50% {\r\n          -webkit-transform: translateY(10px);\r\n          transform: translateY(10px);\r\n        }\r\n\r\n        100% {\r\n          -webkit-transform: translateY(0);\r\n          transform: translateY(0);\r\n        }\r\n      }\r\n\r\n      .gif {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 1;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n\r\n\r\n      @keyframes bLine {\r\n        0% {\r\n          transform: translateY(0);\r\n        }\r\n\r\n        50% {\r\n          -webkit-transform: translateY(10px);\r\n          transform: translateY(10px);\r\n        }\r\n\r\n        100% {\r\n          -webkit-transform: translateY(0);\r\n          transform: translateY(0);\r\n        }\r\n      }\r\n\r\n      .card-num {\r\n        text-align: center;\r\n        margin-top: 10rpx;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  .swiper2 {\r\n    height: 100rpx;\r\n\r\n    .gd-info {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n\r\n      .gd-title {\r\n        color: #3cbcc1;\r\n        margin-bottom: 20rpx;\r\n        text-align: center;\r\n      }\r\n\r\n      .gd-price {\r\n        color: #fff;\r\n        text-align: center;\r\n\r\n        text {\r\n          color: yellow;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.order-pop {\r\n  background: #222433;\r\n  border-radius: 10rpx 10rpx 0 0;\r\n  padding: 1rpx 30rpx;\r\n\r\n  border-top-left-radius: 40rpx;\r\n  border-top-right-radius: 40rpx;\r\n\r\n\r\n  &-hd {\r\n    height: 100rpx;\r\n    position: relative;\r\n    line-height: 100rpx;\r\n    text-align: center;\r\n    font-size: 28rpx;\r\n    font-family: PingFang SC;\r\n    font-weight: bold;\r\n    color: #fff;\r\n\r\n    .close {\r\n      width: 40rpx;\r\n      height: 40rpx;\r\n      position: absolute;\r\n      right: 0;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n    }\r\n  }\r\n\r\n  &-bd {\r\n    padding: 1rpx 0 0;\r\n\r\n    .row {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-top: 30rpx;\r\n\r\n      .title {\r\n        font-size: 28rpx;\r\n        font-family: PingFang SC;\r\n        font-weight: bold;\r\n        color: #fff;\r\n      }\r\n\r\n      .right {\r\n        .price {\r\n          font-size: 28rpx;\r\n          font-family: Source Han Sans CN;\r\n          font-weight: bold;\r\n          color: #d5b644;\r\n\r\n          text {\r\n            font-size: 34rpx;\r\n          }\r\n        }\r\n\r\n        .empty-coupon {\r\n          color: #d5b644;\r\n        }\r\n\r\n        .gray {\r\n          font-size: 28rpx;\r\n          font-family: PingFang SC;\r\n          font-weight: 500;\r\n          color: #999999;\r\n          color: #d5b644;\r\n        }\r\n\r\n        .red {\r\n          color: #d5b644;\r\n        }\r\n      }\r\n    }\r\n\r\n    .btn-list {\r\n      display: flex;\r\n      flex-flow: row wrap;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      &-item {\r\n        width: 130rpx;\r\n        height: 69rpx;\r\n        box-sizing: border-box;\r\n        border-radius: 5rpx;\r\n        border: 1rpx solid #bfbfbf;\r\n        line-height: 69rpx;\r\n        text-align: center;\r\n\r\n        font-size: 26rpx;\r\n        font-family: PingFang SC;\r\n        font-weight: bold;\r\n        color: #fff;\r\n        margin-top: 20rpx;\r\n\r\n        &.act {\r\n          background: #000000;\r\n          color: #fff;\r\n          border-color: #000000;\r\n        }\r\n      }\r\n    }\r\n\r\n    .pay-type {\r\n      margin-top: 30rpx;\r\n\r\n      &-item {\r\n        display: flex;\r\n        align-items: center;\r\n        height: 70rpx;\r\n\r\n        .icon {\r\n          width: 56rpx;\r\n          height: 56rpx;\r\n        }\r\n\r\n        .title {\r\n          flex: 1;\r\n          padding: 0 10rpx;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n\r\n    .agree {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-top: 30rpx;\r\n\r\n      .title {\r\n        font-size: 28rpx;\r\n        font-family: PingFang SC;\r\n        font-weight: 500;\r\n        color: #fff;\r\n\r\n        text {\r\n          color: #248da0;\r\n        }\r\n      }\r\n    }\r\n\r\n    .rule-content {\r\n      max-height: 20vh;\r\n      font-size: 24rpx;\r\n      font-family: PingFang SC;\r\n      font-weight: 500;\r\n      color: #666666;\r\n      margin-top: 40rpx;\r\n    }\r\n\r\n  }\r\n\r\n  &-ft {\r\n    width: 630rpx;\r\n    height: 88rpx;\r\n    // background: #000000;\r\n    border-radius: 44rpx;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    box-sizing: border-box;\r\n    padding: 0 30rpx;\r\n    align-items: center;\r\n    margin: 50rpx auto;\r\n\r\n    font-size: 26rpx;\r\n    font-family: PingFang SC;\r\n    font-weight: 500;\r\n    color: #ffffff;\r\n    background: url(\"https://img.alicdn.com/imgextra/i3/2200676927379/O1CN011FWiey24NdcqIPB3G_!!2200676927379.png\") no-repeat;\r\n    background-size: 100vw 100%;\r\n\r\n    .money {\r\n      font-weight: bold;\r\n      font-size: 24rpx;\r\n\r\n      text {\r\n        font-size: 32rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.zsbox-wrap {\r\n  padding-bottom: 40rpx;\r\n  background-color: #222333;\r\n  min-height: 100%;\r\n\r\n  .zsbox-top {\r\n    padding: 20rpx;\r\n    position: relative;\r\n    z-index: 10;\r\n    background-color: #222333;\r\n\r\n    .zs-title {\r\n      color: #fff;\r\n      text-align: center;\r\n      font-size: 18px;\r\n      font-weight: 700;\r\n      display: flex;\r\n      justify-content: center;\r\n      position: relative;\r\n      margin-bottom: 40rpx;\r\n\r\n      .zs-icon {\r\n        position: absolute;\r\n        right: 10px;\r\n      }\r\n    }\r\n\r\n    .zs-wrap {\r\n      display: flex;\r\n      justify-content: space-around;\r\n      margin-bottom: 20rpx;\r\n\r\n      .zs-items {\r\n        color: #f8f8f8;\r\n        width: 20%;\r\n        text-align: center;\r\n        padding: 10rpx;\r\n        border-radius: 20rpx;\r\n        background-color: #999;\r\n        margin-right: 20rpx;\r\n      }\r\n\r\n      .activezs {\r\n        background-color: #7768d5;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n\r\n  .zsend {\r\n    color: #fff;\r\n    text-align: center;\r\n    margin: 50rpx;\r\n  }\r\n\r\n  .award-wrap {\r\n    padding: 0 20rpx;\r\n    padding-top: 140rpx;\r\n  }\r\n\r\n  .award-log-item {\r\n    color: #fff;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    // background: url('@/static/web/319.png') no-repeat;\r\n    background: url('https://img.alicdn.com/imgextra/i2/2200676927379/O1CN01uHfMV224NdcgWib0O_!!2200676927379.png') no-repeat;\r\n    background-size: 100% 100%;\r\n    width: 100%;\r\n    height: 100px;\r\n    padding: 10px 20px;\r\n    padding-top: 25px;\r\n    margin-bottom: 20rpx;\r\n    position: relative;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n\r\n    .qishu {\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n      background-color: #8888e2;\r\n      padding: 5rpx 10rpx;\r\n      border-radius: 10rpx;\r\n    }\r\n\r\n    .award-log-left {\r\n      flex: 1;\r\n      width: 50%;\r\n\r\n      .award-log-time {\r\n        margin-bottom: 10px;\r\n      }\r\n\r\n      .award-log-info {\r\n        font-size: 16px;\r\n        width: 95%;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n\r\n        .award-name {\r\n          color: #face5e;\r\n          margin-left: 20rpx;\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    .award-log-right {\r\n      .award-log-img {\r\n        width: 100rpx;\r\n        height: 100rpx;\r\n        border-radius: 10rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n.coupon-wrap {\r\n  padding-bottom: 40rpx;\r\n  background-color: #222333;\r\n  min-height: 100%;\r\n\r\n  .coupon-title {\r\n    color: #fff;\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    font-family: xcooo;\r\n    text-align: center;\r\n    padding: 40rpx 0;\r\n  }\r\n}\r\n\r\n.youhuicon {\r\n  padding: 20rpx;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.no {\r\n  text-align: center;\r\n  margin-top: 100rpx;\r\n  font-size: 38rpx;\r\n}\r\n\r\n.youhuicon .couList {\r\n  display: flex;\r\n  border-radius: 6rpx;\r\n  overflow: hidden;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.l {\r\n  flex-shrink: 0;\r\n  width: 200rpx;\r\n  background-color: #6c58dc;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.available {\r\n  background-color: #999;\r\n}\r\n\r\n\r\n.youhuicon .couList .l .aa {\r\n  font-size: 30rpx;\r\n  color: #fff;\r\n}\r\n\r\n.youhuicon .couList .l .pri {\r\n  font-size: 40rpx;\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n\r\n.youhuicon .couList .l .tiao {\r\n  color: #fff;\r\n  text-align: center;\r\n  font-size: 16px;\r\n  margin-top: 20rpx;\r\n}\r\n\r\n.count {\r\n  color: #fff;\r\n  font-size: 14px;\r\n  margin-top: 20rpx;\r\n\r\n  text {\r\n    margin-right: 10rpx;\r\n  }\r\n}\r\n\r\n.youhuicon .couList .r {\r\n  background-color: #fff;\r\n  width: 100%;\r\n  padding: 20rpx;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background: #313131;\r\n}\r\n\r\n.youhuicon .couList .r .ll .t {\r\n  font-size: 32rpx;\r\n  color: #fff;\r\n}\r\n\r\n.man {\r\n  margin-top: 20rpx;\r\n  font-size: 14px;\r\n  color: #fff;\r\n}\r\n\r\n\r\n.youhuicon .couList .r .use {\r\n  margin: 8rpx 0;\r\n}\r\n\r\n.youhuicon .couList .r .qi {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  margin-top: 20rpx;\r\n}\r\n\r\n.rr {\r\n  color: #fff;\r\n  background-color: orange;\r\n  padding: 10rpx 20rpx;\r\n  flex-shrink: 0;\r\n  border-radius: 20rpx;\r\n}\r\n\r\n.xx {\r\n  background-color: #6c58dc;\r\n}\r\n\r\n.xx2 {\r\n  background-color: #999;\r\n}\r\n\r\n.rule-btn-wrap {\r\n  position: fixed;\r\n  top: 10%;\r\n  right: 10rpx;\r\n  z-index: 10;\r\n\r\n  .rule-btn-item {\r\n    width: 100rpx;\r\n    margin-bottom: 40rpx;\r\n\r\n    image {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n.rule-pop {\r\n  background: linear-gradient(to right, #5dfda1, #baf828);\r\n  border-radius: 20rpx;\r\n  padding: 20rpx;\r\n  padding-bottom: 40rpx;\r\n\r\n  .rule-title {\r\n    text-align: center;\r\n    font-size: 48rpx;\r\n    font-weight: 700;\r\n    margin: 30rpx 0;\r\n    margin-top: 20rpx;\r\n    text-shadow: -1px -1px #fff, 1px 1px #333;\r\n  }\r\n\r\n  .rule-pop-bd {\r\n    background: #eefed9;\r\n    padding: 30rpx 20rpx;\r\n    border-radius: 20rpx;\r\n    height: 700rpx; // 改成固定高度\r\n    overflow: hidden; // 防止外面内容溢出\r\n\r\n    .rule-content {\r\n      line-height: 50rpx;\r\n      color: #696969;\r\n      font-weight: 700;\r\n      font-size: 28rpx;\r\n    }\r\n\r\n    .rule-content-active {\r\n      color: red;\r\n    }\r\n  }\r\n}\r\n\r\n.play-game {\r\n  position: fixed;\r\n  bottom: 100rpx;\r\n  width: 100%;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 10;\r\n\r\n  .play-btn {\r\n    background: linear-gradient(270deg, #039aff, #705cff, #af38ff);\r\n    box-shadow: 2rpx 10rpx 2rpx 2rpx #0f7be0;\r\n    width: 80%;\r\n    color: #fff;\r\n    padding: 20rpx 40rpx;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    border-radius: 40rpx;\r\n  }\r\n}\r\n\r\n.card-page {\r\n  padding: 20rpx;\r\n  margin-top: 20rpx;\r\n\r\n  .card-row {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    gap: 20rpx;\r\n\r\n    .card {\r\n      width: 48%;\r\n      height: 200rpx;\r\n      border-radius: 20rpx;\r\n      overflow: hidden;\r\n      position: relative;\r\n      display: flex;\r\n      align-items: flex-start;\r\n      padding: 20rpx;\r\n      color: #fff;\r\n\r\n      background: url(\"https://img.alicdn.com/imgextra/i4/2200676927379/O1CN01Cjh5yw24NdcZJofkb_!!2200676927379.png\") no-repeat;\r\n      background-size: 100% 100%;\r\n      background-size: cover;\r\n\r\n      .card-content {\r\n        z-index: 1;\r\n\r\n        .card-title {\r\n          font-size: 32rpx;\r\n          font-weight: bold;\r\n          color: #000;\r\n          text-shadow: 1px 1px 4px rgba(255, 255, 255, 0.5);\r\n          text-shadow: 1px 1px #fff, 1px 1px #333;\r\n        }\r\n\r\n        .card-info {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          margin-top: 10rpx;\r\n        }\r\n\r\n        .card-count {\r\n          font-size: 28rpx;\r\n          color: #333;\r\n        }\r\n\r\n        .card-num {\r\n          font-size: 32rpx;\r\n          font-weight: bold;\r\n          color: #ff4d4f;\r\n          margin-left: 10rpx;\r\n        }\r\n\r\n        .card-image {\r\n          width: 150rpx;\r\n          height: 120rpx;\r\n          margin-top: 10rpx;\r\n\r\n          image {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /* 卡牌池部分 */\r\n  .card-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n\r\n  .card-images {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    gap: 10rpx;\r\n    margin-top: 10rpx;\r\n  }\r\n\r\n  .card-item {\r\n    width: 60rpx;\r\n    /* 每张卡片的宽度 */\r\n    height: 60rpx;\r\n    /* 每张卡片的高度 */\r\n    position: absolute;\r\n    left: 0;\r\n    z-index: 1;\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  .card-item:nth-child(2) {\r\n    left: 20rpx;\r\n    /* 偏移量 */\r\n    z-index: 2;\r\n  }\r\n\r\n  .card-item:nth-child(3) {\r\n    left: 40rpx;\r\n    /* 偏移量 */\r\n    z-index: 3;\r\n  }\r\n\r\n  .card-item:nth-child(4) {\r\n    left: 60rpx;\r\n    /* 偏移量 */\r\n    z-index: 4;\r\n  }\r\n\r\n  .card-item:nth-child(5) {\r\n    left: 80rpx;\r\n    /* 偏移量 */\r\n    z-index: 5;\r\n  }\r\n\r\n  .card-item image {\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 10rpx;\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n// 赏品预览\r\n.reward-preview-page {\r\n  padding: 20rpx;\r\n\r\n  .title {\r\n    font-size: 32rpx;\r\n    font-weight: bold;\r\n    margin-bottom: 20rpx;\r\n    text-align: center;\r\n    color: #fff;\r\n  }\r\n\r\n  .grid-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: 30rpx;\r\n    // padding: 0 20rpx;\r\n  }\r\n\r\n  .grid-item {\r\n    background-color: #fff;\r\n    border-radius: 10rpx;\r\n    box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.1);\r\n    overflow: hidden;\r\n    text-align: center;\r\n    height: 270rpx; // 统一高度\r\n\r\n    .flip-card {\r\n      width: 100%;\r\n      height: auto;\r\n\r\n      .flip-card-inner {\r\n        width: 100%;\r\n        height: auto;\r\n\r\n        .flip-card-front {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          background: #fff;\r\n          position: relative;\r\n\r\n          .reward-image {\r\n            width: 100%;\r\n\r\n            &.large {\r\n              max-height: 270rpx;\r\n            }\r\n\r\n            &.small {\r\n              max-height: 200rpx;\r\n              object-fit: cover;\r\n            }\r\n          }\r\n\r\n          .selected-overlay {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background: rgba(0, 0, 0, 0.4);\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            z-index: 10;\r\n\r\n            .selected-icon {\r\n              width: 60rpx;\r\n              height: 60rpx;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .reward-title {\r\n      padding: 0 20rpx;\r\n      font-size: 28rpx;\r\n      text-align: center;\r\n      margin-top: 20rpx;\r\n      color: #333;\r\n      white-space: nowrap; // 防止换行\r\n      overflow: hidden; // 隐藏超出部分\r\n      text-overflow: ellipsis; // 超出部分显示省略号\r\n      max-width: 100%; // 确保标题宽度不超出容器\r\n\r\n      &.placeholder {\r\n        visibility: hidden;\r\n        height: 36rpx;\r\n        margin-top: 20rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 许愿池\r\n.wish-popup {\r\n  width: 90vw;\r\n  background: #fff;\r\n  border-radius: 20rpx;\r\n  overflow: hidden;\r\n  padding: 10rpx 20rpx 20rpx;\r\n  background: linear-gradient(to right, #c6f71a, #90fa61, #55fdac);\r\n  box-shadow: 2rpx 10rpx 2rpx 2rpx #209200;\r\n\r\n  .wish-header {\r\n    .wish-cover {\r\n      width: 100%;\r\n      height: 150rpx;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n\r\n  .wish-body {\r\n    padding: 24rpx 20rpx;\r\n    border-radius: 40rpx;\r\n    background: #eefed9;\r\n\r\n    .wish-title {\r\n      font-size: 30rpx;\r\n      font-weight: 600;\r\n      text-align: center;\r\n      margin-bottom: 20rpx;\r\n    }\r\n\r\n    .wish-scroll {\r\n      max-height: 500rpx;\r\n      overflow: auto;\r\n    }\r\n\r\n    .wish-list {\r\n      display: grid;\r\n      grid-template-columns: repeat(3, 1fr);\r\n      gap: 20rpx;\r\n\r\n      .wish-item {\r\n        background-color: #f8f8f8;\r\n        border-radius: 16rpx;\r\n        padding: 16rpx;\r\n        text-align: center;\r\n        transition: all 0.2s;\r\n        border: 2rpx solid transparent;\r\n\r\n        .item-image {\r\n          width: 100%;\r\n          height: 120rpx;\r\n          margin-bottom: 10rpx;\r\n          object-fit: contain;\r\n        }\r\n\r\n        .item-title {\r\n          font-size: 26rpx;\r\n          color: #333;\r\n          line-height: 1.2;\r\n          display: -webkit-box;\r\n          -webkit-box-orient: vertical;\r\n          -webkit-line-clamp: 1;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n\r\n        }\r\n\r\n        &.active {\r\n          border-color: #fa541c;\r\n          background-color: #fff7f0;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // 订单\r\n  .order-header {\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    .order-cover {\r\n      width: 60%;\r\n      height: 120rpx;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n\r\n  .order-body {\r\n    padding: 24rpx 20rpx;\r\n    border-radius: 40rpx;\r\n    background: #eefed9;\r\n\r\n    .order-scroll {\r\n      max-height: 500rpx;\r\n      overflow: auto;\r\n    }\r\n\r\n    .order-list {\r\n      display: grid;\r\n      gap: 20rpx;\r\n\r\n      .order-item {\r\n        background-color: #f8f8f8;\r\n        border-radius: 16rpx;\r\n        padding: 16rpx;\r\n        text-align: center;\r\n        transition: all 0.2s;\r\n        border: 2rpx solid transparent;\r\n\r\n        .item-image {\r\n          width: 100%;\r\n          height: 120rpx;\r\n          margin-bottom: 10rpx;\r\n          object-fit: contain;\r\n        }\r\n\r\n        .item-title {\r\n          font-size: 26rpx;\r\n          color: #333;\r\n          line-height: 1.2;\r\n          display: -webkit-box;\r\n          -webkit-box-orient: vertical;\r\n          -webkit-line-clamp: 1;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  .wish-footer {\r\n    padding: 24rpx;\r\n\r\n    .btn {\r\n      padding: 24rpx 0;\r\n      border-radius: 30rpx;\r\n      font-size: 32rpx;\r\n      text-align: center;\r\n    }\r\n\r\n    .wish-btn {\r\n      background-color: #fa541c;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=26688098&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=26688098&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747217333595\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=1&id=26688098&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=1&id=26688098&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747217332937\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=2&id=26688098&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuilderx\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=2&id=26688098&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1747217333327\n      var cssReload = require(\"D:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}